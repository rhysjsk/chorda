<template>
  <div class="chromatic">
    <svg width="500" height="500" version="1.1" viewBox="0 0 132.29 132.29" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
     <g transform="translate(0 -164.71)">
      <circle cx="66.146" cy="230.85" r="43.597" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".758"/>
      <ellipse id="circle-0" :active="steps[0]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="187.56" cy="64.089" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-1" :active="steps[1]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="205.79" cy="50.499" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-miterlimit="3.8" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-2" :active="steps[2]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="228.38" cy="47.846" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-3" :active="steps[3]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="249.26" cy="56.84" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-4" :active="steps[4]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="262.85" cy="75.072" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-5" :active="steps[5]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="265.5" cy="97.655" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-6" :active="steps[6]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="256.51" cy="118.54" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-7" :active="steps[7]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="238.28" cy="132.13" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-8" :active="steps[8]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="215.69" cy="134.78" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-9" :active="steps[9]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="194.81" cy="125.79" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-10" :active="steps[10]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="181.22" cy="107.56" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <ellipse id="circle-11" :active="steps[11]" transform="matrix(.61973 .78482 -.78474 .61982 0 0)" cx="178.57" cy="84.973" rx="7.3303" ry="7.3301" fill="#c7eff1" stroke="#00b1b9" stroke-linecap="round" stroke-opacity=".70588" stroke-width=".758"/>
      <g id="text-step-0" class="text-step">
        <g id="text-c" class="key-text key-sharp" :active="notes.c" fill-opacity="1" aria-label="C">
         <path d="m66.121 189.97q-0.7359 0-1.275-0.35939-0.53054-0.36796-0.82148-1.044-0.28238-0.68456-0.28238-1.6344 0-0.95839 0.27382-1.643 0.28238-0.69312 0.7958-1.0525 0.52198-0.36795 1.2322-0.36795 0.72735 0 1.2408 0.32517 0.52198 0.31661 0.81292 0.89849l-0.51342 0.29949q-0.27382-0.50486-0.64178-0.71879-0.36795-0.22248-0.89849-0.22248-0.76158 0-1.198 0.65889-0.42785 0.65033-0.42785 1.8141 0 0.76158 0.19681 1.3178 0.19681 0.55621 0.56476 0.85571 0.36795 0.29093 0.8557 0.29093 0.60755 0 0.94127-0.26526 0.34228-0.27383 0.63322-0.84715l0.53909 0.32517q-0.30805 0.66745-0.82148 1.0183-0.50486 0.35084-1.2065 0.35084z" stroke-width=".077705"/>
        </g>
        <g id="text-bsharp" class="key-text key-sharp" :active="notes.bsharp" fill-opacity="1" stroke-width=".077705" aria-label="B♯">
         <path d="m64.944 186.91q0.50486 0.12836 0.77869 0.49631t0.27382 0.96695q0 0.77869-0.47064 1.2322-0.47064 0.44496-1.2921 0.44496h-2.1221v-5.8359h1.9253q0.77869 0 1.2237 0.41074 0.44497 0.40218 0.44497 1.0782 0 0.43641-0.19681 0.75302-0.19681 0.30806-0.56476 0.45352zm-2.1906-0.20536h1.3606q0.9156 0 0.9156-1.0012 0-0.45352-0.26527-0.70167-0.26527-0.24816-0.7359-0.24816h-1.275zm1.3948 2.8153q0.54765 0 0.8557-0.30805 0.31661-0.30806 0.31661-0.83859 0-0.53054-0.31661-0.83004-0.30805-0.30805-0.8557-0.30805h-1.3948v2.2847z"/>
         <path d="m69.053 183.8h0.1922l0.02089 0.0209v1.2702l0.49721-0.2507 0.01253 8e-3v0.58913q-0.01253 0.0292-0.50974 0.27994v1.5585l0.50974-0.22981v0.56407q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1407l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17549l-0.02089-0.0167v-1.3412l-0.53899 0.25069v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-0.0084l-0.53064 0.23398v-0.58078l0.53899-0.27158v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
      </g>
      <g id="text-step-1" class="text-step">
        <g id="text-csharp" class="key-text key-sharp" :active="notes.csharp" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="C♯">
         <path d="m86.558 195.78q-0.7359 0-1.275-0.3594-0.53054-0.36795-0.82148-1.044-0.28238-0.68457-0.28238-1.6344 0-0.95838 0.27382-1.643 0.28238-0.69312 0.7958-1.0525 0.52198-0.36795 1.2322-0.36795 0.72735 0 1.2408 0.32516 0.52198 0.31661 0.81292 0.89849l-0.51342 0.2995q-0.27382-0.50487-0.64178-0.71879-0.36795-0.22249-0.89849-0.22249-0.76158 0-1.198 0.6589-0.42785 0.65033-0.42785 1.8141 0 0.76157 0.19681 1.3178 0.19681 0.55621 0.56476 0.8557 0.36795 0.29094 0.8557 0.29094 0.60755 0 0.94127-0.26527 0.34228-0.27382 0.63322-0.84714l0.53909 0.32516q-0.30805 0.66745-0.82147 1.0183-0.50486 0.35084-1.2065 0.35084z"/>
         <path d="m91.593 189.39h0.1922l0.02089 0.0209v1.2702l0.49721-0.25069 0.01253 8e-3v0.58913q-0.01253 0.0292-0.50974 0.27995v1.5585l0.50974-0.2298v0.56406q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1407l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17549l-0.02089-0.0167v-1.3412l-0.53899 0.25069v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-0.0084l-0.53064 0.23398v-0.58078l0.53899-0.27158v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
        <g id="text-dflat" class="key-text key-flat" :active="notes.dflat" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="D♭">
         <path d="m84.393 189.81h1.4461q0.89849 0 1.5488 0.35084 0.65034 0.34228 0.99262 1.0012t0.34228 1.5745q0 1.3691-0.76158 2.1392-0.76158 0.77014-2.1221 0.77014h-1.4461zm1.429 5.254q1.044 0 1.6344-0.57332t0.59044-1.7542q0-1.1894-0.59044-1.7628t-1.6344-0.57332h-0.78725v4.6636z"/>
         <path d="m89.971 189.39h0.18802l0.02089 0.0251v4.0153h0.01253q0.7103-0.99024 1.3161-0.99024 0.94846 0.0125 1.032 1.0863-0.12117 1.7758-2.5822 2.1434l-0.01253-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41365 1.7465-1.688 0.0042-0.0543 0.0042-0.10446 0-0.61838-0.62256-0.6518-0.49721 0-1.1281 0.96099z"/>
        </g>
      </g>
      <g id="text-step-2" class="text-step">
        <g id="text-d" class="key-text key-natural" :active="notes.d" fill="#202020" fill-opacity="1" aria-label="D">
         <path d="m101.82 205.97h1.4461q0.89849 0 1.5488 0.35084 0.65033 0.34228 0.99262 1.0012 0.34228 0.65889 0.34228 1.5745 0 1.3691-0.76158 2.1393-0.76157 0.77013-2.1221 0.77013h-1.4461zm1.429 5.254q1.044 0 1.6344-0.57333 0.59043-0.57332 0.59043-1.7542 0-1.1894-0.59043-1.7627-0.59044-0.57333-1.6344-0.57333h-0.78724v4.6636z" fill="#202020" stroke-width=".077705"/>
        </g>
      </g>
      <g id="text-step-3" class="text-step">
        <g id="text-dsharp" class="key-text key-sharp" :active="notes.dsharp" fill-opacity="1" stroke-width=".077705" aria-label="D♯">
         <path d="m105.76 228.15h1.4461q0.89849 0 1.5488 0.35084 0.65034 0.34228 0.99262 1.0012t0.34228 1.5745q0 1.3691-0.76158 2.1393-0.76157 0.77013-2.1221 0.77013h-1.4461zm1.429 5.254q1.044 0 1.6344-0.57332 0.59043-0.57332 0.59043-1.7542 0-1.1894-0.59043-1.7628-0.59044-0.57332-1.6344-0.57332h-0.78725v4.6636z"/>
         <path d="m113.26 227.73h0.1922l0.0209 0.0209v1.2702l0.49721-0.2507 0.0125 8e-3v0.58913q-0.0125 0.0292-0.50974 0.27994v1.5585l0.50974-0.2298v0.56406q-4e-3 0.0167-0.50974 0.29666v1.2409l-0.0209 0.0167h-0.1922l-0.0209-0.0167v-1.1406l-1.2033 0.58495v1.4457l-0.0209 0.0167h-0.17548l-0.0209-0.0167v-1.3412l-0.53899 0.2507v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-8e-3l-0.53064 0.23398v-0.58077l0.53899-0.27159v-1.1992l0.0209-0.0167h0.17548l0.0209 0.0167v1.0947l1.2033-0.55989v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58078v-1.5543z"/>
        </g>
        <g id="text-eflat" class="key-text key-flat" :active="notes.eflat" fill-opacity="1" stroke-width=".077705" aria-label="E♭">
         <path d="m106.38 233.97v-5.8359h3.2688v0.5391h-2.627v2.0366h2.0537v0.52198h-2.0537v2.2077h2.6527v0.53054z"/>
         <path d="m110.79 227.72h0.18802l0.0209 0.0251v4.0153h0.0125q0.7103-0.99024 1.3161-0.99024 0.94846 0.0125 1.032 1.0863-0.12117 1.7758-2.5822 2.1434l-0.0125-0.0125v-6.2424zm0.20891 4.4874v1.4833q1.7465-0.41365 1.7465-1.688 4e-3 -0.0543 4e-3 -0.10445 0-0.61838-0.62255-0.65181-0.49721 0-1.1281 0.96099z"/>
        </g>
      </g>
      <g id="text-step-4" class="text-step">
        <g id="text-e" class="key-text key-natural" :active="notes.e" fill-opacity="1" aria-label="E">
         <path d="m102.34 255.74v-5.8359h3.2688v0.5391h-2.627v2.0366h2.0537v0.52198h-2.0537v2.2077h2.6527v0.53054z" stroke-width=".077705"/>
        </g>
        <g id="text-fflat" class="key-text key-flat" :active="notes.fflat" fill-opacity="1" stroke-width=".077705" aria-label="F♭">
         <path d="m100.72 255.94v-5.8359h3.1832v0.5391h-2.5414v2.0366h1.8826v0.52198h-1.8826v2.7382z"/>
         <path d="m104.68 249.68h0.18802l0.0209 0.0251v4.0153h0.0125q0.71031-0.99024 1.3162-0.99024 0.94846 0.0125 1.032 1.0863-0.12116 1.7758-2.5822 2.1434l-0.0125-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41365 1.7465-1.688 4e-3 -0.0543 4e-3 -0.10446 0-0.61838-0.62256-0.6518-0.49721 0-1.1281 0.96099z"/>
        </g>
      </g>
      <g id="text-step-5" class="text-step">
        <g id="text-esharp" class="key-text key-sharp" :active="notes.esharp" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="E♯">
         <path d="m84.375 272.03v-5.8359h3.2688v0.53909h-2.627v2.0366h2.0537v0.52198h-2.0537v2.2077h2.6527v0.53053z"/>
         <path d="m90.715 265.77h0.1922l0.02089 0.0209v1.2702l0.49721-0.2507 0.01253 8e-3v0.58913q-0.01253 0.0293-0.50974 0.27994v1.5585l0.50974-0.22981v0.56407q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1407l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17549l-0.02089-0.0167v-1.3412l-0.53899 0.25069v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-0.0084l-0.53064 0.23398v-0.58078l0.53899-0.27158v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
        <g id="text-f" class="key-text key-natural" :active="notes.f" fill="#202020" fill-opacity="1" aria-label="F">
         <path d="m86.317 271.82v-5.8359h3.1832v0.53909h-2.5414v2.0366h1.8825v0.52198h-1.8825v2.7382z" fill="#202020" stroke-width=".077705"/>
        </g>
      </g>
      <g id="text-step-6" class="text-step">
        <g id="text-fsharp" class="key-text key-sharp" :active="notes.fsharp" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="F♯">
         <path d="m62.638 277.91v-5.8359h3.1832v0.5391h-2.5414v2.0366h1.8825v0.52198h-1.8825v2.7382z"/>
         <path d="m68.526 271.66h0.1922l0.02089 0.0209v1.2702l0.49721-0.25069 0.01253 8e-3v0.58914q-0.01253 0.0292-0.50974 0.27994v1.5585l0.50974-0.2298v0.56406q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1403l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17549l-0.02089-0.0167v-1.3412l-0.53899 0.25069v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-0.0084l-0.53064 0.23398v-0.58077l0.53899-0.27159v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
        <g id="text-gflat" class="key-text key-flat" :active="notes.gflat" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="G♭">
         <path d="m64.181 277.98q-0.7359 0-1.275-0.3594-0.53054-0.36795-0.82148-1.044-0.28238-0.68457-0.28238-1.6344 0-0.95838 0.28238-1.643 0.29094-0.69312 0.82148-1.0525 0.53909-0.36795 1.275-0.36795 0.676 0 1.1638 0.30805 0.49631 0.2995 0.84715 0.88993l-0.50486 0.3594q-0.53909-0.97551-1.506-0.97551-0.80436 0-1.2579 0.6589-0.44496 0.65033-0.44496 1.8141 0 1.1552 0.45352 1.8141 0.45352 0.65033 1.2493 0.65033 0.44496 0 0.7958-0.21393 0.3594-0.21392 0.56476-0.63322 0.20537-0.41929 0.20537-1.0268h-1.3777v-0.53053h2.0109v0.53053q0 0.7958-0.28238 1.352-0.28238 0.54765-0.78725 0.83003-0.49631 0.27383-1.1295 0.27383z"/>
         <path d="m67.516 271.59h0.18802l0.02089 0.0251v4.0153h0.01253q0.7103-0.99024 1.3161-0.99024 0.94846 0.0125 1.032 1.0863-0.12117 1.7758-2.5822 2.1434l-0.01253-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41365 1.7465-1.688 0.0042-0.0543 0.0042-0.10446 0-0.61838-0.62256-0.6518-0.49721 0-1.1281 0.96099z"/>
        </g>
      </g>
      <g id="text-step-7" class="text-step">
        <g id="text-g" class="key-text" :active="notes.g" fill-opacity="1" aria-label="G">
         <path d="m44.072 271.95q-0.7359 0-1.275-0.3594-0.53054-0.36795-0.82147-1.044-0.28238-0.68456-0.28238-1.6344 0-0.95839 0.28238-1.643 0.29094-0.69312 0.82147-1.0525 0.53909-0.36796 1.275-0.36796 0.676 0 1.1638 0.30806 0.49631 0.29949 0.84715 0.88993l-0.50486 0.35939q-0.53909-0.9755-1.506-0.9755-0.80436 0-1.2579 0.65889-0.44496 0.65034-0.44496 1.8141 0 1.1552 0.45352 1.8141 0.45352 0.65034 1.2493 0.65034 0.44496 0 0.7958-0.21393 0.3594-0.21392 0.56476-0.63322 0.20537-0.41929 0.20537-1.0268h-1.3777v-0.53054h2.0109v0.53054q0 0.7958-0.28238 1.352-0.28238 0.54765-0.78725 0.83003-0.49631 0.27383-1.1295 0.27383z" stroke-width=".077705"/>
        </g>
      </g>
      <g id="text-step-8" class="text-step">
        <g id="text-gsharp" class="key-text key-sharp" :active="notes.gsharp" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="G♯">
         <path d="m26.102 256.02q-0.7359 0-1.275-0.35939-0.53054-0.36796-0.82148-1.044-0.28238-0.68456-0.28238-1.6344 0-0.95838 0.28238-1.6429 0.29094-0.69312 0.82148-1.0525 0.53909-0.36795 1.275-0.36795 0.67601 0 1.1638 0.30805 0.49631 0.2995 0.84715 0.88993l-0.50486 0.3594q-0.53909-0.9755-1.506-0.9755-0.80436 0-1.2579 0.65889-0.44497 0.65033-0.44497 1.8141 0 1.1552 0.45352 1.8141 0.45352 0.65033 1.2493 0.65033 0.44497 0 0.7958-0.21392 0.3594-0.21393 0.56476-0.63322 0.20537-0.4193 0.20537-1.0268h-1.3777v-0.53053h2.0109v0.53053q0 0.79581-0.28238 1.352-0.28238 0.54765-0.78725 0.83004-0.49631 0.27382-1.1295 0.27382z"/>
         <path d="m31.36 249.63h0.1922l0.02089 0.0209v1.2702l0.49721-0.25069 0.01253 8e-3v0.58914q-0.01253 0.0292-0.50974 0.27994v1.5585l0.50974-0.2298v0.56406q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1407l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17549l-0.02089-0.0167v-1.3412l-0.53899 0.2507v-0.59331q0-0.0251 0.53899-0.27577v-1.5836h-0.0084l-0.53064 0.23398v-0.58077l0.53899-0.27159v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
        <g id="text-aflat" class="key-text key-flat" :active="notes.aflat" fill="#202020" fill-opacity="1" stroke-width=".077705" aria-label="A♭">
         <path d="m27.974 255.94-0.59899-1.6344h-2.4216l-0.53909 1.6344h-0.64178l2.0708-5.8359h0.59899l2.1307 5.8359zm-2.8238-2.1649h2.028l-1.044-2.8324z"/>
         <path d="m29.465 249.68h0.18802l0.02089 0.0251v4.0153h0.01253q0.7103-0.99025 1.3161-0.99025 0.94846 0.0125 1.032 1.0864-0.12117 1.7758-2.5822 2.1434l-0.01253-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41364 1.7465-1.688 0.0042-0.0543 0.0042-0.10445 0-0.61838-0.62256-0.65181-0.49721 0-1.1281 0.961z"/>
        </g>
      </g>
      <g id="text-step-9" class="text-step">
        <g id="text-a" class="key-text key-natural" :active="notes.a" fill="#202020" fill-opacity="1" aria-label="A">
         <path d="m23.819 233.77-0.59899-1.6344h-2.4216l-0.53909 1.6344h-0.64178l2.0708-5.8359h0.59899l2.1307 5.8359zm-2.8238-2.1649h2.028l-1.044-2.8324z" fill="#202020" stroke-width=".077705"/>
        </g>
      </g>
      <g id="text-step-10" class="text-step">
        <g id="text-asharp" class="key-text key-sharp" :active="notes.asharp" fill-opacity="1" stroke-width=".077705" aria-label="A♯">
         <path d="m27.936 212.02-0.59899-1.6344h-2.4216l-0.53909 1.6344h-0.64178l2.0708-5.8359h0.59899l2.1307 5.8359zm-2.8238-2.1649h2.028l-1.044-2.8324z"/>
         <path d="m31.349 205.76h0.1922l0.02089 0.0209v1.2702l0.49721-0.25069 0.01253 8e-3v0.58913q-0.01253 0.0293-0.50974 0.27995v1.5585l0.50974-0.22981v0.56407q-0.0042 0.0167-0.50974 0.29665v1.2409l-0.02089 0.0167h-0.1922l-0.02089-0.0167v-1.1407l-1.2033 0.58495v1.4457l-0.02089 0.0167h-0.17548l-0.02089-0.0167v-1.3412l-0.53899 0.25069v-0.59331q0-0.0251 0.53899-0.27576v-1.5836h-0.0084l-0.53064 0.23398v-0.58078l0.53899-0.27158v-1.1992l0.02089-0.0167h0.17549l0.02089 0.0167v1.0947l1.2033-0.55988v-1.3914zm-1.2242 2.603v1.5752l1.2033-0.58077v-1.5543z"/>
        </g>
        <g id="text-bflat" class="key-text key-flat" :active="notes.bflat" fill-opacity="1" stroke-width=".077705" aria-label="B♭">
         <path d="m27.14 208.88q0.50486 0.12835 0.77869 0.4963 0.27382 0.36796 0.27382 0.96695 0 0.77869-0.47064 1.2322-0.47064 0.44497-1.2921 0.44497h-2.1221v-5.8359h1.9253q0.77869 0 1.2237 0.41074 0.44496 0.40218 0.44496 1.0782 0 0.43641-0.19681 0.75302-0.19681 0.30806-0.56476 0.45353zm-2.1906-0.20537h1.3606q0.9156 0 0.9156-1.0012 0-0.45352-0.26527-0.70167-0.26527-0.24816-0.7359-0.24816h-1.275zm1.3948 2.8153q0.54765 0 0.8557-0.30805 0.31661-0.30806 0.31661-0.83859 0-0.53054-0.31661-0.83003-0.30805-0.30806-0.8557-0.30806h-1.3948v2.2847z"/>
         <path d="m29.327 205.76h0.18802l0.02089 0.0251v4.0153h0.01253q0.7103-0.99024 1.3161-0.99024 0.94846 0.0125 1.032 1.0863-0.12117 1.7758-2.5822 2.1434l-0.01253-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41365 1.7465-1.688 0.0042-0.0543 0.0042-0.10446 0-0.61838-0.62256-0.6518-0.49721 0-1.1281 0.96099z"/>
        </g>
      </g>
      <g id="text-step-11" class="text-step">
        <g id="text-cflat" class="key-text key-flat" :active="notes.cflat" fill-opacity="1" stroke-width=".077705" aria-label="C♭">
         <path d="m42.329 196.01q-0.7359 0-1.275-0.3594-0.53054-0.36795-0.82148-1.044-0.28238-0.68456-0.28238-1.6344 0-0.95839 0.27382-1.643 0.28238-0.69312 0.7958-1.0525 0.52198-0.36796 1.2322-0.36796 0.72735 0 1.2408 0.32517 0.52198 0.31661 0.81292 0.89849l-0.51342 0.2995q-0.27382-0.50487-0.64178-0.71879-0.36795-0.22249-0.89849-0.22249-0.76158 0-1.198 0.65889-0.42785 0.65034-0.42785 1.8141 0 0.76158 0.19681 1.3178 0.19681 0.5562 0.56476 0.8557 0.36795 0.29094 0.8557 0.29094 0.60755 0 0.94127-0.26527 0.34228-0.27382 0.63322-0.84715l0.53909 0.32517q-0.30805 0.66745-0.82148 1.0183-0.50486 0.35084-1.2065 0.35084z"/>
         <path d="m45.442 189.61h0.18802l0.02089 0.0251v4.0153h0.01253q0.7103-0.99024 1.3161-0.99024 0.94846 0.0125 1.032 1.0863-0.12117 1.7758-2.5822 2.1434l-0.01253-0.0125v-6.2423zm0.20891 4.4874v1.4833q1.7465-0.41364 1.7465-1.688 0.0042-0.0543 0.0042-0.10446 0-0.61838-0.62256-0.6518-0.49721 0-1.1281 0.96099z"/>
        </g>
        <g id="text-b" class="key-text key-natural" :active="notes.b" fill-opacity="1" aria-label="B">
         <path d="m45.132 192.71q0.50486 0.12836 0.77869 0.49631t0.27382 0.96694q0 0.77869-0.47064 1.2322-0.47064 0.44496-1.2921 0.44496h-2.1221v-5.8359h1.9253q0.77869 0 1.2237 0.41073 0.44496 0.40218 0.44496 1.0782 0 0.43641-0.19681 0.75302-0.19681 0.30805-0.56476 0.45352zm-2.1906-0.20537h1.3606q0.9156 0 0.9156-1.0012 0-0.45352-0.26527-0.70168-0.26527-0.24815-0.7359-0.24815h-1.275zm1.3948 2.8153q0.54765 0 0.8557-0.30806 0.31661-0.30805 0.31661-0.83859 0-0.53053-0.31661-0.83003-0.30805-0.30805-0.8557-0.30805h-1.3948v2.2847z"  stroke-width=".077705"/>
        </g>
      </g>
      <!-- <path d="m108.78 268.45a56.845 56.845 0 0 1-56.058 17.639" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/> -->
      <g id="circle-arc-1-1" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 16.654 4.5831" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-1-2" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 16.654 4.5831" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-2-1" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 38.556 21.908" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-2-2" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 38.556 21.908" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-3-1" class="circle-arc" >
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 49.714 48.577" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-3-2" class="circle-arc" >
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 49.714 48.577" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-4-1" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 41.809 26.634 56.845 56.845 0 0 1 5.0095 49.318" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="circle-arc-4-2" class="circle-arc">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <path d="m72.727 174.39a56.845 56.845 0 0 1 41.809 26.634 56.845 56.845 0 0 1 5.0095 49.318" fill="none" stroke="#12a077" stroke-linecap="round" stroke-width=".98835"/>
      </g>
      <g id="fifth-text-outer" class="text-outer" :active="increments.fifth">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <g id="fifth-text-inner" class="text-inner">
        <g transform="translate(0 -56.337)" fill="#00787d" font-family="sans-serif" letter-spacing="0px" stroke-width=".078107" word-spacing="0px">
         <text x="62.8241" y="233.58005" font-size="8.1859px" style="line-height:1.25" xml:space="preserve"><tspan x="62.8241" y="233.58005" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">5</tspan></text>
         <text x="66.747368" y="230.41623" font-size="4.887px" style="line-height:1.25" xml:space="preserve"><tspan x="66.747368" y="230.41623" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">th</tspan></text>
        </g>
       </g>
      </g>
      <g id="seventh-text-outer" class="text-outer" :active="increments.seventh">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <g id="seventh-text-inner" class="text-inner">
        <g transform="translate(0 -56.337)" fill="#00787d" font-family="sans-serif" letter-spacing="0px" stroke-width=".078107" word-spacing="0px">
         <text x="62.8241" y="233.58005" font-size="8.1859px" style="line-height:1.25" xml:space="preserve"><tspan x="62.8241" y="233.58005" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">7</tspan></text>
         <text x="66.747368" y="230.41623" font-size="4.887px" style="line-height:1.25" xml:space="preserve"><tspan x="66.747368" y="230.41623" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">th</tspan></text>
        </g>
       </g>
      </g>
      <g id="third-text-outer" class="text-outer" :active="increments.third">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <g id="third-text-inner" class="text-inner">
        <g transform="translate(0 -56.337)" fill="#00787d" font-family="sans-serif" letter-spacing="0px" stroke-width=".078107" word-spacing="0px">
         <text x="62.8241" y="233.58005" font-size="8.1859px" style="line-height:1.25" xml:space="preserve"><tspan x="62.8241" y="233.58005" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">3</tspan></text>
         <text x="66.747368" y="230.41623" font-size="4.887px" style="line-height:1.25" xml:space="preserve"><tspan x="66.747368" y="230.41623" fill="#00787d" font-family="'Didact Gothic'" stroke-width=".078107">rd</tspan></text>
        </g>
       </g>
      </g>
      <g id="root-text-outer" class="text-outer" :active="increments.root">
       <rect x="2.6458" y="167.35" width="127" height="127" rx="0" ry="0" fill-opacity="0"/>
       <g id="root-text-inner" class="text-inner">
        <g transform="translate(0 -56.337)">
         <text x="60.157009" y="232.78137" fill="#00787d" font-family="sans-serif" font-size="8.1859px" letter-spacing="0px" stroke-width=".078107" word-spacing="0px" style="line-height:1.25" xml:space="preserve"><tspan x="60.157009" y="232.78137" fill="#00787d" font-family="'Didact Gothic'" font-size="6.35px" stroke-width=".078107">root</tspan></text>
        </g>
       </g>
      </g>
     </g>
    </svg>
  </div>
</template>

<script>

import anime from 'animejs'

const KEY_INCREMENTS = ['root', 'third', 'fifth', 'seventh']
const KEY_STEPS = [['bsharp', 'c'], ['dflat', 'csharp'], ['d'], ['eflat', 'dsharp'], ['fflat', 'e'], ['esharp', 'f'], ['gflat', 'fsharp'], ['g'], ['aflat', 'gsharp'], ['a'], ['bflat', 'asharp'], ['cflat', 'b']]
const STEP_ANG = 30

export default {
  name: 'Chromatic',
  mounted () {
    setTimeout(this.setKeys, 100, {root: 'c', third: 'eflat', fifth: 'g'})
  },
  updated () {
    let duration = 500
    let delay = 500
    anime({ targets: '.key-text[active="active"]', opacity: 1, easing: 'easeInOutCubic', delay: delay, duration: duration })
    anime({ targets: '.key-text[active="inactive"]', opacity: 0.32, easing: 'easeInOutCubic', delay: delay, duration: duration })
    anime({ targets: '.key-text[active="off"]', opacity: 0, easing: 'easeInOutCubic', delay: delay, duration: duration })
    anime({ targets: 'ellipse[active="active"]', fill: '#ffffff', easing: 'easeInOutCubic', delay: delay, duration: duration })
    anime({ targets: 'ellipse[active="inactive"]', fill: '#c7eff1', easing: 'easeInOutCubic', delay: delay, duration: duration })
  },
  data () {
    return {
      steps: [],
      notes: {c: 'off'},
      increments: {root: 'off'}
    }
  },
  methods: {
    setKeys: function (keys) {
      let duration = 500
      let delay = 500
      let oldKeyStep = null

      let availableArcs = []
      for (let i = 1; i <= 5; i++) { availableArcs.push(1) }

      for (let i = 0; i < KEY_INCREMENTS.length; i++) {
        this.increments[KEY_INCREMENTS[i]] = 'off'
      }
      for (let i = 0; i < KEY_STEPS.length; i++) {
        let keyStep = KEY_STEPS[i]
        let j = null
        this.steps[i] = 'inactive'
        for (j = 0; j < keyStep.length; j++) {
          this.notes[keyStep[j]] = 'off'
          for (let key in keys) {
            if (keys[key] === keyStep[j]) {
              this.notes[keyStep[j]] = 'active'
              this.steps[i] = 'active'
              let diffKeyStep = i - oldKeyStep
              if (oldKeyStep !== null && diffKeyStep > 0) {
                let arc = diffKeyStep + '-' + availableArcs[diffKeyStep]++
                anime({ targets: '#circle-arc-' + arc, rotate: oldKeyStep * STEP_ANG, easing: 'easeInOutCubic', delay: delay, duration: duration })
                anime({
                  targets: '#circle-arc-' + arc + ' path',
                  strokeDashoffset: [anime.setDashoffset, 0],
                  opacity: 1,
                  easing: 'easeInOutCubic',
                  duration: duration,
                  delay: delay * 2
                })
              }
              oldKeyStep = i
              this.increments[key] = "active"
              let rotateAng = i * STEP_ANG
              anime({ targets: '#' + key + '-text-outer', rotate: rotateAng, easing: 'easeInOutCubic', delay: delay, duration: duration })
              anime({ targets: '#' + key + '-text-inner', rotate: -rotateAng, easing: 'easeInOutCubic', delay: delay, duration: duration })
            }
          }
          if (this.steps[i] !== 'active') this.notes[keyStep[j]] = (j === (keyStep.length - 1)) ? 'inactive' : 'off'
        }
      }
    }
  }
}
</script>
<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h1, h2 {
  font-weight: normal;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
.text-outer, .text-inner, .circle-arc{
  transform-origin:50% 50%;
}
.circle-arc path {
  opacity: 0;
}
[active="off"] {
  opacity: 0;
}
.text-outer {
  opacity:0;
}
@keyframes fadein {
  100% {opacity: 1;}
} 
.text-outer[active="active"] {
  transition: opacity 0.25s ease-out;
}

</style>

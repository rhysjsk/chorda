<template>
  <div id="chromatic">
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.1"
   width="300"
   height="300"
   viewBox="0 0 500 500"
   id="svg2">
  <g id="circle-arc-4-1" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 459.37256,333.15503" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-4-2" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 459.37256,333.15503" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-1-1" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 282.35517,27.054332 a 225.28122,225.28122 0 0 1 65.62215,20.08593" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-1-2" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 282.35517,27.054332 a 225.28122,225.28122 0 0 1 65.62215,20.08593" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-2-2" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 430.23403,114.84334" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-2-2" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 430.23403,114.84334" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-3-1" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 473.84921,224.63938" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-3-2" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 473.84921,224.63938" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="circle-arc-3-3" class="circle-arc">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 282.35517,27.054332 A 225.28122,225.28122 0 0 1 473.84921,224.63938" style="fill:none;stroke:#12a077;stroke-width:4;stroke-linecap:round;" />
  </g>
  <g id="step-0" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-1" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-2" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-3" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-4" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-5" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-6" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-7" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-8" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-9" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-10" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g id="step-11" class="step">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 257.87165,24.718781 a 7.8716516,7.8716516 0 1 1 -15.7433,0 7.8716516,7.8716516 0 1 1 15.7433,0 z" style="fill:#12a077;" />
  </g>
  <g
     transform="matrix(3.8991529,-0.56538647,0.56538647,3.8991529,-667.37615,19.492233)"
     >
    <circle cx="66.146004" cy="230.85001" r="43.597" transform="translate(156.8743,-139.66701)" id="circle6" style="fill:none;stroke:#12a077;stroke-width:1.07171369;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none" />
    <g style="fill:#c7eff1;stroke:#00b1b9;stroke-width:0.75800002;stroke-linecap:round;stroke-opacity:0.70587996">
      <ellipse id="circle-0" :active="steps[0]" cx="228.38" cy="47.846001" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-1" :active="steps[1]" cx="249.25999" cy="56.84" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-2" :active="steps[2]" cx="262.85001" cy="75.071999" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-3" :active="steps[3]" cx="265.5" cy="97.654999" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-4" :active="steps[4]" cx="256.51001" cy="118.54" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-5" :active="steps[5]" cx="238.28" cy="132.13" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-6" :active="steps[6]" cx="215.69" cy="134.78" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-7" :active="steps[7]" cx="194.81" cy="125.79" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-8" :active="steps[8]" cx="181.22" cy="107.56" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-9" :active="steps[9]" cx="178.57001" cy="84.973" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-10" :active="steps[10]" cx="187.56" cy="64.088997" rx="7.3302999" ry="7.3301001" />
      <ellipse id="circle-11" :active="steps[11]" cx="205.78999" cy="50.499001" rx="7.3302999" ry="7.3301001" />
    </g>
  </g>
  <g transform="matrix(3.9413432,0,0,3.9413432,-9.814784,-659.9711)" >
    <g id="text-step-0" class="text-step">
      <g id="text-c" class="key-text key-sharp" :active="notes.c" style="fill-opacity:1">
        <path
           d="m 66.121,189.97 q -0.7359,0 -1.275,-0.35939 -0.53054,-0.36796 -0.82148,-1.044 -0.28238,-0.68456 -0.28238,-1.6344 0,-0.95839 0.27382,-1.643 0.28238,-0.69312 0.7958,-1.0525 0.52198,-0.36795 1.2322,-0.36795 0.72735,0 1.2408,0.32517 0.52198,0.31661 0.81292,0.89849 l -0.51342,0.29949 q -0.27382,-0.50486 -0.64178,-0.71879 -0.36795,-0.22248 -0.89849,-0.22248 -0.76158,0 -1.198,0.65889 -0.42785,0.65033 -0.42785,1.8141 0,0.76158 0.19681,1.3178 0.19681,0.55621 0.56476,0.85571 0.36795,0.29093 0.8557,0.29093 0.60755,0 0.94127,-0.26526 0.34228,-0.27383 0.63322,-0.84715 l 0.53909,0.32517 q -0.30805,0.66745 -0.82148,1.0183 -0.50486,0.35084 -1.2065,0.35084 z"
           id="path3957"
           style="stroke-width:0.077705" />
      </g>
      <g id="text-bsharp" class="key-text key-sharp" :active="notes.bsharp" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 64.944,186.91 q 0.50486,0.12836 0.77869,0.49631 0.27383,0.36795 0.27382,0.96695 0,0.77869 -0.47064,1.2322 -0.47064,0.44496 -1.2921,0.44496 h -2.1221 v -5.8359 h 1.9253 q 0.77869,0 1.2237,0.41074 0.44497,0.40218 0.44497,1.0782 0,0.43641 -0.19681,0.75302 -0.19681,0.30806 -0.56476,0.45352 z m -2.1906,-0.20536 h 1.3606 q 0.9156,0 0.9156,-1.0012 0,-0.45352 -0.26527,-0.70167 -0.26527,-0.24816 -0.7359,-0.24816 h -1.275 z m 1.3948,2.8153 q 0.54765,0 0.8557,-0.30805 0.31661,-0.30806 0.31661,-0.83859 0,-0.53054 -0.31661,-0.83004 -0.30805,-0.30805 -0.8557,-0.30805 h -1.3948 v 2.2847 z"
           id="path3960" />
        <path
           d="m 69.053,183.8 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.2507 0.01253,0.008 v 0.58913 q -0.01253,0.0292 -0.50974,0.27994 v 1.5585 l 0.50974,-0.22981 v 0.56407 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 69.053 l -0.02089,-0.0167 v -1.1407 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17549 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.25069 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58078 l 0.53899,-0.27158 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path3962" />
      </g>
    </g>
    <g id="text-step-1" class="text-step">
      <g id="text-csharp" class="key-text key-sharp" :active="notes.csharp" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 86.558,195.78 q -0.7359,0 -1.275,-0.3594 -0.53054,-0.36795 -0.82148,-1.044 -0.28238,-0.68457 -0.28238,-1.6344 0,-0.95838 0.27382,-1.643 0.28238,-0.69312 0.7958,-1.0525 0.52198,-0.36795 1.2322,-0.36795 0.72735,0 1.2408,0.32516 0.52198,0.31661 0.81292,0.89849 l -0.51342,0.2995 q -0.27382,-0.50487 -0.64178,-0.71879 -0.36795,-0.22249 -0.89849,-0.22249 -0.76158,0 -1.198,0.6589 -0.42785,0.65033 -0.42785,1.8141 0,0.76157 0.19681,1.3178 0.19681,0.55621 0.56476,0.8557 0.36795,0.29094 0.8557,0.29094 0.60755,0 0.94127,-0.26527 0.34228,-0.27382 0.63322,-0.84714 l 0.53909,0.32516 q -0.30805,0.66745 -0.82147,1.0183 -0.50486,0.35084 -1.2065,0.35084 z"
           id="path3966" />
        <path
           d="m 91.593,189.39 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.25069 0.01253,0.008 v 0.58913 q -0.01253,0.0292 -0.50974,0.27995 v 1.5585 l 0.50974,-0.2298 v 0.56406 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 91.593 l -0.02089,-0.0167 v -1.1407 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17549 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.25069 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58078 l 0.53899,-0.27158 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path3968" />
      </g>
      <g id="text-dflat" class="key-text key-flat" :active="notes.dflat" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 84.393,189.81 h 1.4461 q 0.89849,0 1.5488,0.35084 0.65034,0.34228 0.99262,1.0012 0.34228,0.65892 0.34228,1.5745 0,1.3691 -0.76158,2.1392 -0.76158,0.77014 -2.1221,0.77014 h -1.4461 z m 1.429,5.254 q 1.044,0 1.6344,-0.57332 0.5904,-0.57332 0.59044,-1.7542 0,-1.1894 -0.59044,-1.7628 -0.59044,-0.5734 -1.6344,-0.57332 h -0.78725 v 4.6636 z"
           id="path3971" />
        <path
           d="m 89.971,189.39 h 0.18802 l 0.02089,0.0251 v 4.0153 h 0.01253 q 0.7103,-0.99024 1.3161,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12117,1.7758 -2.5822,2.1434 l -0.01253,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41365 1.7465,-1.688 0.0042,-0.0543 0.0042,-0.10446 0,-0.61838 -0.62256,-0.6518 -0.49721,0 -1.1281,0.96099 z"
           id="path3973" />
      </g>
    </g>
    <g id="text-step-2" class="text-step">
      <g id="text-d" class="key-text key-natural" :active="notes.d" style="fill:#202020;fill-opacity:1">
        <path
           d="m 101.82,205.97 h 1.4461 q 0.89849,0 1.5488,0.35084 0.65033,0.34228 0.99262,1.0012 0.34228,0.65889 0.34228,1.5745 0,1.3691 -0.76158,2.1393 -0.76157,0.77013 -2.1221,0.77013 h -1.4461 z m 1.429,5.254 q 1.044,0 1.6344,-0.57333 0.59043,-0.57332 0.59043,-1.7542 0,-1.1894 -0.59043,-1.7627 -0.59044,-0.57333 -1.6344,-0.57333 h -0.78724 v 4.6636 z"
           id="path3977"
           style="fill:#202020;stroke-width:0.077705" />
      </g>
    </g>
    <g id="text-step-3" class="text-step">
      <g id="text-dsharp" class="key-text key-sharp" :active="notes.dsharp" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 105.76,228.15 h 1.4461 q 0.89849,0 1.5488,0.35084 0.65034,0.34228 0.99262,1.0012 0.34228,0.65892 0.34228,1.5745 0,1.3691 -0.76158,2.1393 -0.76157,0.77013 -2.1221,0.77013 h -1.4461 z m 1.429,5.254 q 1.044,0 1.6344,-0.57332 0.59043,-0.57332 0.59043,-1.7542 0,-1.1894 -0.59043,-1.7628 -0.59044,-0.57332 -1.6344,-0.57332 h -0.78725 v 4.6636 z"
           id="path3981" />
        <path
           d="m 113.26,227.73 h 0.1922 l 0.0209,0.0209 v 1.2702 l 0.49721,-0.2507 0.0125,0.008 v 0.58913 q -0.0125,0.0292 -0.50974,0.27994 v 1.5585 l 0.50974,-0.2298 v 0.56406 q -0.004,0.0167 -0.50974,0.29666 v 1.2409 l -0.0209,0.0167 h -0.1922 l -0.0209,-0.0167 v -1.1406 l -1.2033,0.58495 v 1.4457 l -0.0209,0.0167 h -0.17548 l -0.0209,-0.0167 v -1.3412 l -0.53899,0.2507 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.008 l -0.53064,0.23398 v -0.58077 l 0.53899,-0.27159 v -1.1992 l 0.0209,-0.0167 h 0.17548 l 0.0209,0.0167 v 1.0947 l 1.2033,-0.55989 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58078 v -1.5543 z"
           id="path3983" />
      </g>
      <g id="text-eflat" class="key-text key-flat" :active="notes.eflat" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 106.38,233.97 v -5.8359 h 3.2688 v 0.5391 h -2.627 v 2.0366 h 2.0537 v 0.52198 h -2.0537 v 2.2077 h 2.6527 v 0.53054 z"
           id="path3986" />
        <path
           d="m 110.79,227.72 h 0.18802 l 0.0209,0.0251 v 4.0153 h 0.0125 q 0.7103,-0.99024 1.3161,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12117,1.7758 -2.5822,2.1434 l -0.0125,-0.0125 v -6.2424 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41365 1.7465,-1.688 0.004,-0.0543 0.004,-0.10445 0,-0.61838 -0.62255,-0.65181 -0.49721,0 -1.1281,0.96099 z"
           id="path3988" />
      </g>
    </g>
    <g id="text-step-4" class="text-step">
      <g id="text-e" class="key-text key-natural" :active="notes.e" style="fill-opacity:1">
        <path
           d="m 102.34,255.74 v -5.8359 h 3.2688 v 0.5391 h -2.627 v 2.0366 h 2.0537 v 0.52198 h -2.0537 v 2.2077 h 2.6527 v 0.53054 z"
           id="path3992"
           style="stroke-width:0.077705" />
      </g>
      <g id="text-fflat" class="key-text key-flat" :active="notes.fflat" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 100.72,255.94 v -5.8359 h 3.1832 v 0.5391 h -2.5414 v 2.0366 h 1.8826 v 0.52198 h -1.8826 v 2.7382 z"
           id="path3995" />
        <path
           d="m 104.68,249.68 h 0.18802 l 0.0209,0.0251 v 4.0153 h 0.0125 q 0.71031,-0.99024 1.3162,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12116,1.7758 -2.5822,2.1434 l -0.0125,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41365 1.7465,-1.688 0.004,-0.0543 0.004,-0.10446 0,-0.61838 -0.62256,-0.6518 -0.49721,0 -1.1281,0.96099 z"
           id="path3997" />
      </g>
    </g>
    <g id="text-step-5" class="text-step">
      <g id="text-esharp" class="key-text key-sharp" :active="notes.esharp" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 84.375,272.03 v -5.8359 h 3.2688 v 0.53909 h -2.627 v 2.0366 h 2.0537 v 0.52198 h -2.0537 v 2.2077 h 2.6527 V 272.03 z"
           id="path4001" />
        <path
           d="m 90.715,265.77 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.2507 0.01253,0.008 v 0.58913 q -0.01253,0.0293 -0.50974,0.27994 v 1.5585 l 0.50974,-0.22981 v 0.56407 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 90.715 l -0.02089,-0.0167 v -1.1407 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17549 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.25069 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58078 l 0.53899,-0.27158 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path4003" />
      </g>
      <g id="text-f" class="key-text key-natural" :active="notes.f" style="fill:#202020;fill-opacity:1">
        <path
           d="m 86.317,271.82 v -5.8359 h 3.1832 v 0.53909 h -2.5414 v 2.0366 h 1.8825 v 0.52198 h -1.8825 v 2.7382 z"
           id="path4006"
           style="fill:#202020;stroke-width:0.077705" />
      </g>
    </g>
    <g id="text-step-6" class="text-step">
      <g id="text-fsharp" class="key-text key-sharp" :active="notes.fsharp" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 62.638,277.91 v -5.8359 h 3.1832 v 0.5391 h -2.5414 v 2.0366 h 1.8825 v 0.52198 h -1.8825 v 2.7382 z"
           id="path4010" />
        <path
           d="m 68.526,271.66 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.25069 0.01253,0.008 v 0.58914 q -0.01253,0.0292 -0.50974,0.27994 v 1.5585 l 0.50974,-0.2298 v 0.56406 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 68.526 l -0.02089,-0.0167 v -1.1403 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17549 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.25069 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58077 l 0.53899,-0.27159 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path4012" />
      </g>
      <g id="text-gflat" class="key-text key-flat" :active="notes.gflat" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 64.181,277.98 q -0.7359,0 -1.275,-0.3594 -0.53054,-0.36795 -0.82148,-1.044 -0.28238,-0.68457 -0.28238,-1.6344 0,-0.95838 0.28238,-1.643 0.29094,-0.69312 0.82148,-1.0525 0.53909,-0.36795 1.275,-0.36795 0.676,0 1.1638,0.30805 0.49631,0.2995 0.84715,0.88993 l -0.50486,0.3594 q -0.53909,-0.97551 -1.506,-0.97551 -0.80436,0 -1.2579,0.6589 -0.44496,0.65033 -0.44496,1.8141 0,1.1552 0.45352,1.8141 0.45352,0.65033 1.2493,0.65033 0.44496,0 0.7958,-0.21393 0.3594,-0.21392 0.56476,-0.63322 0.20537,-0.41929 0.20537,-1.0268 h -1.3777 v -0.53053 h 2.0109 v 0.53053 q 0,0.7958 -0.28238,1.352 -0.28238,0.54765 -0.78725,0.83003 -0.49631,0.27383 -1.1295,0.27383 z"
           id="path4015" />
        <path
           d="m 67.516,271.59 h 0.18802 l 0.02089,0.0251 v 4.0153 h 0.01253 q 0.7103,-0.99024 1.3161,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12117,1.7758 -2.5822,2.1434 l -0.01253,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41365 1.7465,-1.688 0.0042,-0.0543 0.0042,-0.10446 0,-0.61838 -0.62256,-0.6518 -0.49721,0 -1.1281,0.96099 z"
           id="path4017" />
      </g>
    </g>
    <g id="text-step-7" class="text-step">
      <g id="text-g" class="key-text" :active="notes.g" style="fill-opacity:1">
        <path
           d="m 44.072,271.95 q -0.7359,0 -1.275,-0.3594 -0.53054,-0.36795 -0.82147,-1.044 -0.28238,-0.68456 -0.28238,-1.6344 0,-0.95839 0.28238,-1.643 0.29094,-0.69312 0.82147,-1.0525 0.53909,-0.36796 1.275,-0.36796 0.676,0 1.1638,0.30806 0.49631,0.29949 0.84715,0.88993 l -0.50486,0.35939 q -0.53909,-0.9755 -1.506,-0.9755 -0.80436,0 -1.2579,0.65889 -0.44496,0.65034 -0.44496,1.8141 0,1.1552 0.45352,1.8141 0.45352,0.65034 1.2493,0.65034 0.44496,0 0.7958,-0.21393 0.3594,-0.21392 0.56476,-0.63322 0.20537,-0.41929 0.20537,-1.0268 h -1.3777 v -0.53054 h 2.0109 v 0.53054 q 0,0.7958 -0.28238,1.352 -0.28238,0.54765 -0.78725,0.83003 -0.49631,0.27383 -1.1295,0.27383 z"
           id="path4021"
           style="stroke-width:0.077705" />
      </g>
    </g>
    <g id="text-step-8" class="text-step">
      <g id="text-gsharp" class="key-text key-sharp" :active="notes.gsharp" style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 26.102,256.02 q -0.7359,0 -1.275,-0.35939 -0.53054,-0.36796 -0.82148,-1.044 -0.28238,-0.68456 -0.28238,-1.6344 0,-0.95838 0.28238,-1.6429 0.29094,-0.69312 0.82148,-1.0525 0.53909,-0.36795 1.275,-0.36795 0.67601,0 1.1638,0.30805 0.49631,0.2995 0.84715,0.88993 l -0.50486,0.3594 q -0.53909,-0.9755 -1.506,-0.9755 -0.80436,0 -1.2579,0.65889 -0.44497,0.65033 -0.44497,1.8141 0,1.1552 0.45352,1.8141 0.45352,0.65033 1.2493,0.65033 0.44497,0 0.7958,-0.21392 0.3594,-0.21393 0.56476,-0.63322 0.20537,-0.4193 0.20537,-1.0268 h -1.3777 v -0.53053 h 2.0109 v 0.53053 q 0,0.79581 -0.28238,1.352 -0.28238,0.54765 -0.78725,0.83004 -0.49631,0.27382 -1.1295,0.27382 z"
           id="path4025" />
        <path
           d="m 31.36,249.63 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.25069 0.01253,0.008 v 0.58914 q -0.01253,0.0292 -0.50974,0.27994 v 1.5585 l 0.50974,-0.2298 v 0.56406 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 31.36 l -0.02089,-0.0167 v -1.1407 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17549 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.2507 v -0.59331 q 0,-0.0251 0.53899,-0.27577 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58077 l 0.53899,-0.27159 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path4027" />
      </g>
      <g id="text-aflat" class="key-text key-flat" :active="notes.aflat"
         style="fill:#202020;fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 27.974,255.94 -0.59899,-1.6344 h -2.4216 l -0.53909,1.6344 h -0.64178 l 2.0708,-5.8359 h 0.59899 l 2.1307,5.8359 z m -2.8238,-2.1649 h 2.028 l -1.044,-2.8324 z"
           id="path4030" />
        <path
           d="m 29.465,249.68 h 0.18802 l 0.02089,0.0251 v 4.0153 h 0.01253 q 0.7103,-0.99025 1.3161,-0.99025 0.94846,0.0125 1.032,1.0864 -0.12117,1.7758 -2.5822,2.1434 l -0.01253,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41364 1.7465,-1.688 0.0042,-0.0543 0.0042,-0.10445 0,-0.61838 -0.62256,-0.65181 -0.49721,0 -1.1281,0.961 z"
           id="path4032" />
      </g>
    </g>
    <g id="text-step-9" class="text-step">
      <g id="text-a" class="key-text key-natural" :active="notes.a" style="fill:#202020;fill-opacity:1">
        <path
           d="m 23.819,233.77 -0.59899,-1.6344 h -2.4216 l -0.53909,1.6344 h -0.64178 l 2.0708,-5.8359 h 0.59899 l 2.1307,5.8359 z m -2.8238,-2.1649 h 2.028 l -1.044,-2.8324 z"
           id="path4036"
           style="fill:#202020;stroke-width:0.077705" />
      </g>
    </g>
    <g id="text-step-10" class="text-step">
      <g id="text-asharp" class="key-text key-sharp" :active="notes.asharp" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 27.936,212.02 -0.59899,-1.6344 h -2.4216 l -0.53909,1.6344 h -0.64178 l 2.0708,-5.8359 h 0.59899 l 2.1307,5.8359 z m -2.8238,-2.1649 h 2.028 l -1.044,-2.8324 z"
           id="path4040" />
        <path
           d="m 31.349,205.76 h 0.1922 l 0.02089,0.0209 v 1.2702 l 0.49721,-0.25069 0.01253,0.008 v 0.58913 q -0.01253,0.0293 -0.50974,0.27995 v 1.5585 l 0.50974,-0.22981 v 0.56407 q -0.0042,0.0167 -0.50974,0.29665 v 1.2409 l -0.02089,0.0167 H 31.349 l -0.02089,-0.0167 v -1.1407 l -1.2033,0.58495 v 1.4457 l -0.02089,0.0167 h -0.17548 l -0.02089,-0.0167 v -1.3412 l -0.53899,0.25069 v -0.59331 q 0,-0.0251 0.53899,-0.27576 v -1.5836 h -0.0084 l -0.53064,0.23398 v -0.58078 l 0.53899,-0.27158 v -1.1992 l 0.02089,-0.0167 h 0.17549 l 0.02089,0.0167 v 1.0947 l 1.2033,-0.55988 v -1.3914 z m -1.2242,2.603 v 1.5752 l 1.2033,-0.58077 v -1.5543 z"
           id="path4042" />
      </g>
      <g id="text-bflat" class="key-text key-flat" :active="notes.bflat" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 27.14,208.88 q 0.50486,0.12835 0.77869,0.4963 0.27382,0.36796 0.27382,0.96695 0,0.77869 -0.47064,1.2322 -0.47064,0.44497 -1.2921,0.44497 h -2.1221 v -5.8359 h 1.9253 q 0.77869,0 1.2237,0.41074 0.44496,0.40218 0.44496,1.0782 0,0.43641 -0.19681,0.75302 -0.19681,0.30806 -0.56476,0.45353 z m -2.1906,-0.20537 H 26.31 q 0.9156,0 0.9156,-1.0012 0,-0.45352 -0.26527,-0.70167 -0.26527,-0.24816 -0.7359,-0.24816 h -1.275 z m 1.3948,2.8153 q 0.54765,0 0.8557,-0.30805 0.31661,-0.30806 0.31661,-0.83859 0,-0.53054 -0.31661,-0.83003 -0.30805,-0.30806 -0.8557,-0.30806 h -1.3948 v 2.2847 z"
           id="path4045" />
        <path
           d="m 29.327,205.76 h 0.18802 l 0.02089,0.0251 v 4.0153 h 0.01253 q 0.7103,-0.99024 1.3161,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12117,1.7758 -2.5822,2.1434 l -0.01253,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41365 1.7465,-1.688 0.0042,-0.0543 0.0042,-0.10446 0,-0.61838 -0.62256,-0.6518 -0.49721,0 -1.1281,0.96099 z"
           id="path4047" />
      </g>
    </g>
    <g id="text-step-11" class="text-step">
      <g id="text-cflat" class="key-text key-flat" :active="notes.cflat" style="fill-opacity:1;stroke-width:0.077705">
        <path
           d="m 42.329,196.01 q -0.7359,0 -1.275,-0.3594 -0.53054,-0.36795 -0.82148,-1.044 -0.28238,-0.68456 -0.28238,-1.6344 0,-0.95839 0.27382,-1.643 0.28238,-0.69312 0.7958,-1.0525 0.52198,-0.36796 1.2322,-0.36796 0.72735,0 1.2408,0.32517 0.52198,0.31661 0.81292,0.89849 l -0.51342,0.2995 q -0.27382,-0.50487 -0.64178,-0.71879 -0.36795,-0.22249 -0.89849,-0.22249 -0.76158,0 -1.198,0.65889 -0.42785,0.65034 -0.42785,1.8141 0,0.76158 0.19681,1.3178 0.19681,0.5562 0.56476,0.8557 0.36795,0.29094 0.8557,0.29094 0.60755,0 0.94127,-0.26527 0.34228,-0.27382 0.63322,-0.84715 l 0.53909,0.32517 q -0.30805,0.66745 -0.82148,1.0183 -0.50486,0.35084 -1.2065,0.35084 z"
           id="path4051" />
        <path
           d="m 45.442,189.61 h 0.18802 l 0.02089,0.0251 v 4.0153 h 0.01253 q 0.7103,-0.99024 1.3161,-0.99024 0.94846,0.0125 1.032,1.0863 -0.12117,1.7758 -2.5822,2.1434 l -0.01253,-0.0125 v -6.2423 z m 0.20891,4.4874 v 1.4833 q 1.7465,-0.41364 1.7465,-1.688 0.0042,-0.0543 0.0042,-0.10446 0,-0.61838 -0.62256,-0.6518 -0.49721,0 -1.1281,0.96099 z"
           id="path4053" />
      </g>
      <g id="text-b" class="key-text key-natural" :active="notes.b" style="fill-opacity:1">
        <path
           d="m 45.132,192.71 q 0.50486,0.12836 0.77869,0.49631 0.27383,0.36795 0.27382,0.96694 0,0.77869 -0.47064,1.2322 -0.47064,0.44496 -1.2921,0.44496 h -2.1221 v -5.8359 h 1.9253 q 0.77869,0 1.2237,0.41073 0.44496,0.40218 0.44496,1.0782 0,0.43641 -0.19681,0.75302 -0.19681,0.30805 -0.56476,0.45352 z m -2.1906,-0.20537 h 1.3606 q 0.9156,0 0.9156,-1.0012 0,-0.45352 -0.26527,-0.70168 -0.26527,-0.24815 -0.7359,-0.24815 h -1.275 z m 1.3948,2.8153 q 0.54765,0 0.8557,-0.30806 0.31661,-0.30805 0.31661,-0.83859 0,-0.53053 -0.31661,-0.83003 -0.30805,-0.30805 -0.8557,-0.30805 h -1.3948 v 2.2847 z"
           id="path4056"
           style="stroke-width:0.077705" />
      </g>
    </g>
  </g>
  <g id="root-text-outer" class="text-outer" :active="increments.root">
    <rect width="500" height="500" x="0" y="0" style="fill:#12a077;fill-opacity:0.0;" />
    <g transform="translate(250 28)">
      <g id="root-text-inner">
        <text x="0" y="0" xml:space="preserve" style="font-size:20px;font-family:Didact Gothic;text-align:center;text-anchor:middle;fill:#000000;">root</text>
      </g>
    </g>
  </g>
  <g id="third-text-outer" class="text-outer" :active="increments.third">
    <rect width="500" height="500" x="0" y="0" style="fill:#12a077;fill-opacity:0.0;" />
    <g transform="translate(250 28)">
      <g id="third-text-inner">
        <text x="0" y="0" xml:space="preserve" style="font-size:20px;font-family:Didact Gothic;text-align:center;text-anchor:middle;fill:#000000;">3rd</text>
      </g>
    </g>
  </g>
  <g id="fifth-text-outer" class="text-outer" :active="increments.fifth">
    <rect width="500" height="500" x="0" y="0" style="fill:#12a077;fill-opacity:0.0;" />
    <g transform="translate(250 28)">
      <g id="fifth-text-inner">
        <text x="0" y="0" xml:space="preserve" style="font-size:20px;font-family:Didact Gothic;text-align:center;text-anchor:middle;fill:#000000;">5th</text>
      </g>
    </g>
  </g>
  <g id="seventh-text-outer" class="text-outer" :active="increments.seventh">
    <rect width="500" height="500" x="0" y="0" style="fill:#12a077;fill-opacity:0.0;" />
    <g transform="translate(250 28)">
      <g id="seventh-text-inner">
        <text x="0" y="0" xml:space="preserve" style="font-size:20px;font-family:Didact Gothic;text-align:center;text-anchor:middle;fill:#000000;">7th</text>
      </g>
    </g>
  </g>
  <g id="join-1-1" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 256.1764,105.9977 57.67714,12.73392" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-1-2" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 256.1764,105.9977 57.67714,12.73392" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-2-1" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 256.92545,105.9977 111.60902,62.92052" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-2-2" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="m 256.92545,105.9977 111.60902,62.92052" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-3-1" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 256.92545,105.9977 393.25324,240.82738" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-3-2" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 256.92545,105.9977 393.25324,240.82738" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-3-3" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 256.92545,105.9977 393.25324,240.82738" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-4-1" class="join-stroke">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 254.67829,106.74676 380.51933,311.98749" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
  <g id="join-4-2" class="join-stroke" active="inactive">
    <rect width="500" height="500" x="0" y="0" style="fill-opacity:0;" />
    <path d="M 254.67829,106.74676 380.51933,311.98749" style="stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;" />
  </g>
</svg>
  </div>
</template>

<script>

import anime from 'animejs'

// const KEY_SEQUENCE = 'cdefgab'
const KEY_INCREMENTS = ['root', 'third', 'fifth', 'seventh']
const KEY_STEPS = [['bsharp', 'c'], ['dflat', 'csharp'], ['d'], ['eflat', 'dsharp'], ['fflat', 'e'], ['esharp', 'f'], ['gflat', 'fsharp'], ['g'], ['aflat', 'gsharp'], ['a'], ['bflat', 'asharp'], ['cflat', 'b']]
const STEP_ANG = 30
const K_STEP_ANG = 5

export default {
  name: 'Chromatic',
  props: ['bus'],
  updated () {
    let delay = 0
    anime({ targets: '.key-text[active="active"]', opacity: 1, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
    anime({ targets: '.key-text[active="inactive"]', opacity: 0.32, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
    anime({ targets: '.key-text[active="off"]', opacity: 0, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
    anime({ targets: 'ellipse[active="active"]', fill: '#ffffff', easing: 'easeInOutCubic', delay: delay, duration: this.duration })
    anime({ targets: 'ellipse[active="inactive"]', fill: '#c7eff1', easing: 'easeInOutCubic', delay: delay, duration: this.duration })
  },
  created () {
    this.bus.$on('showChord', (args) => {
      this.showChord(args.chord)
    })
    this.bus.$on('updateBPM', (speed) => {
      this.duration = Math.round((60 / speed) * 250)
    })
  },
  data () {
    return {
      steps: [],
      notes: {c: 'off'},
      increments: {root: 'off'},
      duration: 1000
    }
  },

  methods: {
    showChord: function (ch) {
      let keys = ch.structure
      let c = 0
      let chord = {}
      for (let k in keys) {
        let key = k.slice(0, 1)
        let accent = keys[k].pitch
        chord[KEY_INCREMENTS[c++]] = key + ((accent !== 'natural') ? accent : '')
      }
      let delay = 0
      let oldKeyStep = null
      let stepNum = 0

      let availableArcs = []
      for (let i = 1; i <= 5; i++) { availableArcs.push(1) }
      for (let i = 0; i < KEY_INCREMENTS.length; i++) {
        this.increments[KEY_INCREMENTS[i]] = 'off'
      }
      let currKey = {}
      let dChord = {}
      for (let key in chord) {
        dChord[key] = chord[key]
      }
      for (let key in dChord) {
        currKey = {key: dChord[key], chord: key}
        delete dChord[key]
        break
      }

      // Clear previous settings
      for (let n in KEY_STEPS) {
        for (let m in KEY_STEPS[n]) {
          this.notes[KEY_STEPS[n][m]] = 'off'
        }
      }
      for (let n in this.steps) {
        this.steps[n] = 'inactive'
      }

      let i = 0
      while (true) {
        let i2 = i % 12
        let keyStep = KEY_STEPS[i2]
        let j = null
        this.steps[i2] = 'inactive'
        // key steps can have multiple keys signatures per step, e.g. index 1 is [bsharp, cflat]
        for (j = 0; j < keyStep.length; j++) {
          if (currKey.key === keyStep[j]) {
            this.notes[keyStep[j]] = 'active'
            this.steps[i2] = 'active'
            let diffKeyStep = i - oldKeyStep
            if (oldKeyStep !== null && diffKeyStep > 0) {
              let arc = diffKeyStep + '-' + availableArcs[diffKeyStep]++
              let totalSteps = diffKeyStep
              for (let k = 0; k < totalSteps; k++) {
                let rotatePart = i * STEP_ANG - diffKeyStep * STEP_ANG * 0.5 - diffKeyStep * K_STEP_ANG * 0.5 + k * K_STEP_ANG
                // animation of keystep circle colour
                anime({ targets: '#step-' + (k + stepNum), opacity: 1, rotate: rotatePart, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
              }
              stepNum += totalSteps

              // Rotation of the outside arc, step indicators and join strokes
              anime({ targets: '#circle-arc-' + arc, rotate: oldKeyStep * STEP_ANG, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
              anime({ targets: '#join-' + arc, rotate: [{value: oldKeyStep * STEP_ANG}, {value: oldKeyStep * STEP_ANG}], opacity: [{value: 0}, {value: 1}], easing: 'easeInOutCubic', delay: delay, duration: this.duration })
              anime({
                targets: '#circle-arc-' + arc + ' path',
                strokeDashoffset: [anime.setDashoffset, 0],
                opacity: 1,
                easing: 'easeInOutCubic',
                duration: this.duration,
                delay: delay * 2
              })
            }
            oldKeyStep = i
            this.increments[currKey.chord] = 'active'

            // Rotation of the outside text - 'root', '3rd' etc.
            let rotateAng = i * STEP_ANG
            anime({ targets: '#' + currKey.chord + '-text-outer', rotate: rotateAng, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
            anime({ targets: '#' + currKey.chord + '-text-inner', rotate: -rotateAng, easing: 'easeInOutCubic', delay: delay, duration: this.duration })
            if (Object.keys(dChord).length === 0) {
              currKey = null
              break
            }
            for (let key in dChord) {
              currKey = {key: dChord[key], chord: key}
              delete dChord[key]
              break
            }
          }
        }
        i++
        if (Object.keys(dChord).length === 0 && currKey === null) break
      }
    }
  }
}
</script>
<style scoped>
h1, h2 {
  font-weight: normal;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
.text-outer, .text-inner, .circle-arc, .join-stroke {
  transform-origin:50% 50%;
}
.circle-arc path {
  opacity: 0;
}
[active="off"] {
  opacity: 0;
}
.step, .join-stroke {
  opacity: 0;
  transform-origin:50% 50%;
}
.text-outer {
  opacity:0;
}
@keyframes fadein {
  100% {opacity: 1;}
}
.text-outer[active="active"] {
  opacity:1;
}
#chromatic {
/*  width:500px;*/
}

</style>
